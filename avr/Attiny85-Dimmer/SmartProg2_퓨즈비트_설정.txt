================================================================================
SmartProg2 퓨즈비트 설정 가이드 - ATtiny85
================================================================================

[퓨즈비트 설정값]
─────────────────────────────────────────────────────────────────────────────
LFUSE (Low Fuse):   0xE2
HFUSE (High Fuse):  0xDF
EFUSE (Extended):   0xFF
─────────────────────────────────────────────────────────────────────────────

[설정 의미]
─────────────────────────────────────────────────────────────────────────────
LFUSE = 0xE2
  - 내부 8MHz 오실레이터 사용
  - 클럭 분주 없음 (CKDIV8 비활성화)
  - 시작 지연 시간 설정

HFUSE = 0xDF
  - SPIEN 활성화 (ISP 프로그래밍 가능)
  - EESAVE 비활성화 (칩 지우기 시 EEPROM도 지워짐)
  - BODLEVEL = 2.7V (브라운아웃 감지)

EFUSE = 0xFF
  - 셀프 프로그래밍 비활성화
─────────────────────────────────────────────────────────────────────────────

[SmartProg2 설정 순서]
─────────────────────────────────────────────────────────────────────────────
1. SmartProg2 실행
2. Device 선택: ATtiny85
3. "Fuse" 탭으로 이동
4. 퓨즈비트 값 입력:
   - Low Fuse:  E2
   - High Fuse: DF
   - Ext Fuse:  FF
5. "Write Fuse" 버튼 클릭
6. 확인 후 "Flash" 탭에서 hex 파일 업로드
   - 프로젝트 루트의 firmware.hex 사용
─────────────────────────────────────────────────────────────────────────────

[주의사항]
─────────────────────────────────────────────────────────────────────────────
⚠️ 퓨즈비트 설정은 칩의 동작 방식을 변경합니다
⚠️ 잘못된 설정 시 칩을 프로그래밍할 수 없게 될 수 있습니다
⚠️ 특히 클럭 소스 관련 설정은 신중하게 변경하세요
⚠️ SPIEN 비트는 절대 비활성화하지 마세요 (ISP 불가능해짐)

✓ 위 설정값은 platformio.ini와 일치하도록 최적화되었습니다
✓ 8MHz 내부 클럭으로 동작합니다 (board_build.f_cpu = 8000000L)
─────────────────────────────────────────────────────────────────────────────

[hex 파일 위치]
─────────────────────────────────────────────────────────────────────────────
프로젝트 루트: firmware.hex (SmartProg2용 복사본)
빌드 원본:     .pio\build\attiny85\firmware.hex
─────────────────────────────────────────────────────────────────────────────

[작업 순서]
─────────────────────────────────────────────────────────────────────────────
1단계: 퓨즈비트 먼저 설정 (위 값 사용)
2단계: firmware.hex 파일 업로드
─────────────────────────────────────────────────────────────────────────────

[최종 코드 사양]
─────────────────────────────────────────────────────────────────────────────
- Timer 주기: 50μs (20kHz)
- 분해능: 159단계 (0~158)
- 조광 범위: 100% ~ 5%
- CPU 부하: 약 16% (ISR)
- 트리거 펄스: 50μs
- ADC 읽기: 50ms 간격
─────────────────────────────────────────────────────────────────────────────

[핀 연결 확인]
─────────────────────────────────────────────────────────────────────────────
ATtiny85 DIP-8:
  1 (RESET/PB5)  - ISP 프로그래밍용
  2 (PB3/ADC3)   - 아날로그 입력 (0~3.8V) ✅
                   → 3.8V: 트라이액 게이트 5%, 0V: 트라이액 게이트 100%
  3 (PB4)        - (예비)
  4 (GND)        - 그라운드
  5 (PB0)        - 트라이악 제어 출력 ✅
  6 (PB1)        - (예비)
  7 (PB2/INT0)   - 제로크로스 입력 ✅
  8 (VCC)        - 5V 전원
─────────────────────────────────────────────────────────────────────────────

생성일: 2025-12-18
최종 업데이트: 2026-02-15 (PB3 입력범위 0~3.8V 대응, hex 위치 업데이트)
프로젝트: Attiny85-Dimmer (U2008 대체용)
용도: 초음파세척기 출력 제어
================================================================================
